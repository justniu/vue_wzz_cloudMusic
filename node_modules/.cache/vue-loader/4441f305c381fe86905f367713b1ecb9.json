{"remainingRequest":"E:\\前端\\vue_wzz_music\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\前端\\vue_wzz_music\\src\\components\\recommend\\diy\\MusicListTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\前端\\vue_wzz_music\\src\\components\\recommend\\diy\\MusicListTable.vue","mtime":1598059696760},{"path":"E:\\前端\\vue_wzz_music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\前端\\vue_wzz_music\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\前端\\vue_wzz_music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\前端\\vue_wzz_music\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIC8v5o6l5Y+X5Lyg6YCS5p2l55qE5Y+C5pWwCiAgICAgICAgICAgIHF1ZXJ5SWRzOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWRzID8gdGhpcy4kcm91dGUucGFyYW1zLmlkcyA6IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncXVlcnlJZHMnKSwKICAgICAgICAgICAgLy/mn6Xor6LlvZPliY3mrYzljZXmiYDmnInpn7PkuZDnmoRuYW1lIHVybCDkvZzogIXnrYnnrYkKICAgICAgICAgICAgY3VycmVudE11c2ljTGlzdEluZm86IFtdLAogICAgICAgICAgICAvL+atjOWNleeahOatjOabsmlk5ZCI6ZuGCiAgICAgICAgICAgIHNvbmdMaXN0SW5mbzogW10sCiAgICAgICAgICAgIC8v54i257uE5Lu25b2T5YmN5pKt5pS+55qE6Z+z5LmQ55qEaWQKICAgICAgICAgICAgY3VySWQ6IHBhcnNlSW50KHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VyUGxheU11c2ljSWQnKSksCiAgICAgICAgfQogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgLy/ojrflj5bliJfooajkv6Hmga/mlbDmja4KICAgICAgICB0aGlzLmhhbmRsZXJTb25nTGlzdCgpCiAgICAgICAgLy/ms6jlhoznm5HlkKznmoTkuovku7Yg5ZyobWFpbi5qc+S4reWumuS5ieS6hgogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzZXRJdGVtJywgKCk9PiB7CiAgICAgICAgICAgIHRoaXMuY3VySWQgPSBwYXJzZUludChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VyUGxheU11c2ljSWQnKSkKICAgICAgICB9KQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgLy/mlL7lhaXkuIrkuIDkuKrnu4Tku7bkvKDpgJLmnaXnmoTlj4LmlbAKICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3F1ZXJ5SWRzJywgdGhpcy5xdWVyeUlkcykKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgLy/lpITnkIbmrYzljZXmiYDmnInmrYzmm7Lkv6Hmga/nmoTmn6Xor6Io5qC55o2uaWQpCiAgICAgICAgaGFuZGxlclNvbmdMaXN0KCkgewogICAgICAgICAgICB0aGlzLiRodHRwLmdldCgnc29uZy9kZXRhaWwnLCB7cGFyYW1zOiB7aWRzOiB0aGlzLnF1ZXJ5SWRzfX0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE11c2ljTGlzdEluZm8gPSByZXMuZGF0YS5zb25ncwogICAgICAgICAgICAgICAgLy/lpITnkIbml7bplb/mlbDmja4KICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE11c2ljTGlzdEluZm8uZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBkdCA9IG5ldyBEYXRlKGl0ZW0uZHQpCiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW0gPSAoZHQuZ2V0TWludXRlcygpICsgJycpLnBhZFN0YXJ0KDIsICcwJykKICAgICAgICAgICAgICAgICAgICBjb25zdCBzcyA9IChkdC5nZXRTZWNvbmRzKCkgKyAnJykucGFkU3RhcnQoMiwgJzAnKQoKICAgICAgICAgICAgICAgICAgICBpdGVtLmR0ID0gbW0gKyAnOicgKyBzcwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC8v6K6+572u5q2M5Y2V5omA5pyJ5q2M5puy55qEaWTkv6Hmga8KICAgICAgICAgICAgICAgIHRoaXMuc2V0U29uZ0xpc3RJbmZvKCkKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8v5Y+M5Ye75q2M5puy5re75Yqg5pWw5o2u6L+b5Y67LOW5tuW+queOr+aSreaUvijlkJHniLbnu4Tku7bkvKDpgJLlj4LmlbApCiAgICAgICAgcGxheU11c2ljTGlzdChyb3cpIHsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnc2V0U29uZ0xpc3RJbmZvJywgdGhpcy5zb25nTGlzdEluZm8sIHJvdy5pZCkKICAgICAgICB9LAogICAgICAgIC8v6K6+572u5q2M5Y2V5omA5pyJ5q2M5puy55qEaWQKICAgICAgICBzZXRTb25nTGlzdEluZm8oKSB7CiAgICAgICAgICAgIHRoaXMuY3VycmVudE11c2ljTGlzdEluZm8uZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuc29uZ0xpc3RJbmZvLnB1c2goaXRlbS5pZCkKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgfQp9Cg=="},{"version":3,"sources":["MusicListTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MusicListTable.vue","sourceRoot":"src/components/recommend/diy","sourcesContent":["<template>\r\n    <!--歌曲列表-->\r\n    <el-table :data=\"currentMusicListInfo\" ref=\"playTable\" highlight-current-row border stripe\r\n              style=\"cursor: context-menu;\" @row-dblclick=\"playMusicList\">\r\n\r\n        <el-table-column label=\"#\" type=\"index\">\r\n            <template scope=\"scope\">\r\n                <img v-if=\"curId === scope.row.id\" src=\"imgs/isPlay.png\" alt=\"\">\r\n                <p v-else>{{scope.$index+1}}</p>\r\n            </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"操作\" width=\"70px;\">\r\n            <template>\r\n                <i class=\"el-icon-star-off\" style=\"font-size: 18px;cursor: pointer\"></i>\r\n                <i class=\"el-icon-download\" style=\"margin-left: 10px;font-size: 18px;cursor:pointer;\"></i>\r\n            </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column v-if=\"false\" label=\"id\" prop=\"id\"></el-table-column>\r\n\r\n        <el-table-column label=\"音乐标题\" prop=\"name\"></el-table-column>\r\n\r\n        <el-table-column label=\"歌手\" prop=\"ar[0].name\"></el-table-column>\r\n\r\n        <el-table-column label=\"专辑名\" prop=\"al.name\"></el-table-column>\r\n\r\n        <el-table-column label=\"时长\" prop=\"dt\" width=\"80px;\"></el-table-column>\r\n\r\n    </el-table>\r\n</template>\r\n\r\n<script>\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                //接受传递来的参数\r\n                queryIds: this.$route.params.ids ? this.$route.params.ids : window.localStorage.getItem('queryIds'),\r\n                //查询当前歌单所有音乐的name url 作者等等\r\n                currentMusicListInfo: [],\r\n                //歌单的歌曲id合集\r\n                songListInfo: [],\r\n                //父组件当前播放的音乐的id\r\n                curId: parseInt(window.localStorage.getItem('curPlayMusicId')),\r\n            }\r\n        },\r\n        created() {\r\n            //获取列表信息数据\r\n            this.handlerSongList()\r\n            //注册监听的事件 在main.js中定义了\r\n            window.addEventListener('setItem', ()=> {\r\n                this.curId = parseInt(localStorage.getItem('curPlayMusicId'))\r\n            })\r\n        },\r\n        mounted() {\r\n            //放入上一个组件传递来的参数\r\n            window.localStorage.setItem('queryIds', this.queryIds)\r\n        },\r\n        methods: {\r\n            //处理歌单所有歌曲信息的查询(根据id)\r\n            handlerSongList() {\r\n                this.$http.get('song/detail', {params: {ids: this.queryIds}}).then(res => {\r\n                    this.currentMusicListInfo = res.data.songs\r\n                    //处理时长数据\r\n                    this.currentMusicListInfo.forEach(item => {\r\n                        const dt = new Date(item.dt)\r\n                        const mm = (dt.getMinutes() + '').padStart(2, '0')\r\n                        const ss = (dt.getSeconds() + '').padStart(2, '0')\r\n\r\n                        item.dt = mm + ':' + ss\r\n                    })\r\n                    //设置歌单所有歌曲的id信息\r\n                    this.setSongListInfo()\r\n                })\r\n            },\r\n            //双击歌曲添加数据进去,并循环播放(向父组件传递参数)\r\n            playMusicList(row) {\r\n                this.$emit('setSongListInfo', this.songListInfo, row.id)\r\n            },\r\n            //设置歌单所有歌曲的id\r\n            setSongListInfo() {\r\n                this.currentMusicListInfo.forEach(item => {\r\n                    this.songListInfo.push(item.id)\r\n                })\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n"]}]}