{"remainingRequest":"E:\\前端\\vue_wzz_music\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\前端\\vue_wzz_music\\src\\components\\findMusic\\video\\VideoListTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\前端\\vue_wzz_music\\src\\components\\findMusic\\video\\VideoListTable.vue","mtime":1598425420724},{"path":"E:\\前端\\vue_wzz_music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\前端\\vue_wzz_music\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\前端\\vue_wzz_music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\前端\\vue_wzz_music\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgLy/op4bpopHmoIfnrb7kv6Hmga8KICAgICAgICAgICAgdGFnczogW10sCiAgICAgICAgICAgIHRhZ0RpYWxvZ1RhYmxlVmlzaWJsZTogZmFsc2UsCiAgICAgICAgICAgIC8v5p+l6K+i6KeG6aKR5p2h5Lu2CiAgICAgICAgICAgIHF1ZXJ5SW5mbzogewogICAgICAgICAgICAgICAgaWQ6IDU4MTAwLAogICAgICAgICAgICAgICAgb2Zmc2V0OiAwCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8v6KeG6aKR5YiX6KGoCiAgICAgICAgICAgIHZpZGVvTGlzdDogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBdCiAgICAgICAgfQogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgLy/ojrflj5bop4bpopHmoIfnrb4KICAgICAgICB0aGlzLmdldFZpZGVvVGFncygpCiAgICAgICAgLy/ojrflj5bop4bpopHkv6Hmga8KICAgICAgICB0aGlzLmdldFZpZGVvTGlzdCgpCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGdldFZpZGVvVGFncygpIHsKICAgICAgICAgICAgdGhpcy4kaHR0cC5nZXQoJ3ZpZGVvL2dyb3VwL2xpc3QnKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnRhZ3MgPSByZXMuZGF0YS5kYXRhCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBzaG93VGFnRGlhbG9nKCkgewogICAgICAgICAgICB0aGlzLnRhZ0RpYWxvZ1RhYmxlVmlzaWJsZSA9IHRydWUKICAgICAgICB9LAogICAgICAgIGdldFZpZGVvTGlzdCgpIHsKICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudFVzZXJJbmZvJykgPT09ICdudWxsJykgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+mcgOimgeeZu+W9leiOt+WPluinhumikeaVsOaNriEnKQogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLiRodHRwLmdldCgndmlkZW8vZ3JvdXAnLCB7cGFyYW1zOiB0aGlzLnF1ZXJ5SW5mb30pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMudmlkZW9MaXN0ID0gcmVzLmRhdGEuZGF0YXMKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8v6Lez6L2s6KeG6aKR5pKt5pS+6aG1CiAgICAgICAgdG9WaWRlb1BhZ2UoaWQpIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJ3ZpZGVvUGxheS8nICsgaWQpOwogICAgICAgIH0sCiAgICAgICAgLy/lpITnkIbpobXpnaIKICAgICAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKG5ld1BhZ2UpIHsKICAgICAgICAgICAgdGhpcy5xdWVyeUluZm8ub2Zmc2V0ICs9IDgKICAgICAgICAgICAgdGhpcy5nZXRWaWRlb0xpc3QoKQogICAgICAgIH0sCiAgICAgICAgLy/liIfmjaLmoIfnrb4KICAgICAgICBjaGFuZ2VUYWcodGFnSWQpIHsKICAgICAgICAgICAgdGhpcy5xdWVyeUluZm8uaWQgPSB0YWdJZAogICAgICAgICAgICB0aGlzLmdldFZpZGVvTGlzdCgpCiAgICAgICAgICAgIHRoaXMudGFnRGlhbG9nVGFibGVWaXNpYmxlID0gZmFsc2UKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["VideoListTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VideoListTable.vue","sourceRoot":"src/components/findMusic/video","sourcesContent":["<template>\r\n    <el-container style=\"margin-bottom: 55px;\">\r\n        <el-header>\r\n            <el-button @click=\"showTagDialog\">全部分类</el-button>\r\n\r\n            <el-dialog title=\"全部标签\" :visible.sync=\"tagDialogTableVisible\" :modal=\"false\"\r\n                       style=\"position: absolute;top: 70px;left: -280px;\">\r\n                <el-tag v-for=\"item in tags\" @click=\"changeTag(item.id)\" class=\"tag\"\r\n                        :style=\"item.id===queryInfo.id ?'color: red' : 'blue'\">\r\n                    {{item.name}}\r\n                </el-tag>\r\n            </el-dialog>\r\n\r\n        </el-header>\r\n\r\n        <el-main>\r\n\r\n            <el-row :gutter=\"10\">\r\n\r\n                <el-col :span=\"4\" v-for=\"(item,index) in videoList\" style=\"margin-top: 20px;position:relative;\"\r\n                        :key=\"index\">\r\n\r\n                    <!--播放量-->\r\n                    <div style=\"background: rgba(128,128,128,0.2);color: white;\r\n                                    width: 96%;position:absolute;z-index: 10;\">\r\n                        <div style=\"float:right;\">\r\n                            <i class=\"el-icon-headset\" style=\"margin-right: 5px;\"></i>\r\n                            {{item.data.playTime >= 10000 ? (item.data.playTime/10000).toFixed(0)+'万' :\r\n                            item.data.playTime}}\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div>\r\n                        <el-image :src=\"item.data.coverUrl\" @click=\"toVideoPage(item.data.vid)\"\r\n                                  style=\"box-shadow: 0 0 2px 2px gray;border-radius: 10px;cursor: pointer\">\r\n                        </el-image>\r\n                    </div>\r\n\r\n\r\n                    <h1 @click=\"toVideoPage(item.data.vid)\" style=\"cursor:pointer;\">{{item.data.title}}</h1>\r\n\r\n                </el-col>\r\n            </el-row>\r\n            <!--分页-->\r\n            <el-pagination\r\n                    layout=\"prev, next\" @current-change=\"handleCurrentChange\">\r\n            </el-pagination>\r\n\r\n        </el-main>\r\n    </el-container>\r\n\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                //视频标签信息\r\n                tags: [],\r\n                tagDialogTableVisible: false,\r\n                //查询视频条件\r\n                queryInfo: {\r\n                    id: 58100,\r\n                    offset: 0\r\n                },\r\n                //视频列表\r\n                videoList: [\r\n                    {\r\n                        data: {\r\n                            title: ''\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        created() {\r\n            //获取视频标签\r\n            this.getVideoTags()\r\n            //获取视频信息\r\n            this.getVideoList()\r\n        },\r\n        methods: {\r\n            getVideoTags() {\r\n                this.$http.get('video/group/list').then(res => {\r\n                    this.tags = res.data.data\r\n                })\r\n            },\r\n            showTagDialog() {\r\n                this.tagDialogTableVisible = true\r\n            },\r\n            getVideoList() {\r\n                if (window.localStorage.getItem('currentUserInfo') === 'null') {\r\n                    return this.$message.error('需要登录获取视频数据!')\r\n                }\r\n\r\n                this.$http.get('video/group', {params: this.queryInfo}).then(res => {\r\n                    this.videoList = res.data.datas\r\n                })\r\n            },\r\n            //跳转视频播放页\r\n            toVideoPage(id) {\r\n                this.$router.push('videoPlay/' + id);\r\n            },\r\n            //处理页面\r\n            handleCurrentChange(newPage) {\r\n                this.queryInfo.offset += 8\r\n                this.getVideoList()\r\n            },\r\n            //切换标签\r\n            changeTag(tagId) {\r\n                this.queryInfo.id = tagId\r\n                this.getVideoList()\r\n                this.tagDialogTableVisible = false\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n    [class*=el-col-] {\r\n        display: inline-block;\r\n        float: none;\r\n    }\r\n\r\n    h1 {\r\n        font-weight: 500;\r\n    }\r\n\r\n    .tag {\r\n        cursor: pointer;\r\n        margin-left: 15px;\r\n        margin-top: 15px;\r\n        background-color: white;\r\n    }\r\n</style>\r\n"]}]}