{"remainingRequest":"E:\\前端\\vue_wzz_music\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\前端\\vue_wzz_music\\src\\components\\findMusic\\search\\SearchBySinger.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\前端\\vue_wzz_music\\src\\components\\findMusic\\search\\SearchBySinger.vue","mtime":1598424759434},{"path":"E:\\前端\\vue_wzz_music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\前端\\vue_wzz_music\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\前端\\vue_wzz_music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\前端\\vue_wzz_music\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgc2VhcmNoRGF0YTogZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMuJHJvdXRlLnBhcmFtcy5kYXRhKSwKICAgICAgICAgICAgLy/lvZPliY3nmoTmkJzntKLmnaHku7YKICAgICAgICAgICAgcXVlcnlJbmZvOiB7CiAgICAgICAgICAgICAgICBrZXl3b3JkczogdGhpcy4kcm91dGUucGFyYW1zLmRhdGEsCiAgICAgICAgICAgICAgICBsaW1pdDogMzAsCiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsCiAgICAgICAgICAgICAgICB0eXBlOiAxMDAKICAgICAgICAgICAgICAgIC8qIHR5cGUKICAgICAgICAgICAgICAgICAgICDpu5jorqTkuLoxCiAgICAgICAgICAgICAgICAgICAgMTog5Y2V5puyIDEwMDrmrYzmiYsgMTAwMDrmrYzljZUgMTAxNDrop4bpopEKICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8v5p+l6K+i57uT5p6c5oC75pWwCiAgICAgICAgICAgIHNpbmdlclRvdGFsOiAwLAogICAgICAgICAgICAvL+atjOabsuaVsOeahOe7k+aenOmbhgogICAgICAgICAgICBzaW5nZXJMaXN0OiBbXSwKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICB0aGlzLmdldFNpbmdlclJlc3VsdCgpCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC8v5p+l6K+i5pCc57Si55qE5q2M5omL57uT5p6c6ZuGCiAgICAgICAgZ2V0U2luZ2VyUmVzdWx0KCkgewogICAgICAgICAgICB0aGlzLiRodHRwLmdldCgnL3NlYXJjaCcsIHtwYXJhbXM6IHRoaXMucXVlcnlJbmZvfSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy5zaW5nZXJMaXN0ID0gcmVzLmRhdGEucmVzdWx0LmFydGlzdHMKICAgICAgICAgICAgICAgIHRoaXMuc2luZ2VyVG90YWwgPSByZXMuZGF0YS5yZXN1bHQuYXJ0aXN0Q291bnQKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8v6Lez6L2s5q2M5omL6aG1CiAgICAgICAgdG9TaW5nZXJQYWdlKGlkKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvc2luZ2VyLycgKyBpZCkKICAgICAgICB9LAogICAgICAgIC8v5YiG6aG15o+S5Lu26aG15pWw5pS55Y+YCiAgICAgICAgaGFuZGxlQ3VycmVudENoYW5nZShuZXdQYWdlKSB7CiAgICAgICAgICAgIHRoaXMucXVlcnlJbmZvLm9mZnNldCA9IChuZXdQYWdlIC0gMSkgKiB0aGlzLnF1ZXJ5SW5mby5saW1pdAogICAgICAgICAgICBpZiAodGhpcy5xdWVyeUluZm8ub2Zmc2V0ID49IHRoaXMuc29uZ1RvdGFsKSB0aGlzLnF1ZXJ5SW5mby5vZmZzZXQgPSB0aGlzLnNvbmdUb3RhbAogICAgICAgICAgICB0aGlzLmdldFNpbmdlclJlc3VsdCgpOwogICAgICAgIH0sCiAgICB9Cn0K"},{"version":3,"sources":["SearchBySinger.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SearchBySinger.vue","sourceRoot":"src/components/findMusic/search","sourcesContent":["<template>\r\n    <div style=\"margin-bottom: 75px;\">\r\n        <el-row v-for=\"(item,index) in singerList\" style=\"margin-top: 25px;\">\r\n            <el-col :span=\"12\" :offset=\"6\" @click.native=\"toSingerPage(item.id)\"\r\n                    :style=\"index % 2 === 0 ? 'background: rgb(245,245,247)' : ''\">\r\n                <el-image :src=\"item.picUrl\" style=\"width: 100px;height: 100px;\"></el-image>\r\n                <span style=\"position: absolute;top: 40%\">{{item.name}}</span>\r\n            </el-col>\r\n        </el-row>\r\n        <!--分页-->\r\n        <el-pagination style=\"display: block;width: 20%;margin: 15px auto\"\r\n                layout=\"prev, pager, next\" :page-size=\"queryInfo.limit\"\r\n                :total=\"singerTotal\" @current-change=\"handleCurrentChange\">\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                searchData: decodeURIComponent(this.$route.params.data),\r\n                //当前的搜索条件\r\n                queryInfo: {\r\n                    keywords: this.$route.params.data,\r\n                    limit: 30,\r\n                    offset: 0,\r\n                    type: 100\r\n                    /* type\r\n                        默认为1\r\n                        1: 单曲 100:歌手 1000:歌单 1014:视频\r\n                    */\r\n                },\r\n                //查询结果总数\r\n                singerTotal: 0,\r\n                //歌曲数的结果集\r\n                singerList: [],\r\n            }\r\n        },\r\n        created() {\r\n            this.getSingerResult()\r\n        },\r\n        methods: {\r\n            //查询搜索的歌手结果集\r\n            getSingerResult() {\r\n                this.$http.get('/search', {params: this.queryInfo}).then(res => {\r\n                    this.singerList = res.data.result.artists\r\n                    this.singerTotal = res.data.result.artistCount\r\n                })\r\n            },\r\n            //跳转歌手页\r\n            toSingerPage(id) {\r\n                this.$router.push('/singer/' + id)\r\n            },\r\n            //分页插件页数改变\r\n            handleCurrentChange(newPage) {\r\n                this.queryInfo.offset = (newPage - 1) * this.queryInfo.limit\r\n                if (this.queryInfo.offset >= this.songTotal) this.queryInfo.offset = this.songTotal\r\n                this.getSingerResult();\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .el-col:hover {\r\n        background-color: rgb(235, 236, 237) !important;\r\n        cursor: pointer;\r\n    }\r\n</style>\r\n"]}]}