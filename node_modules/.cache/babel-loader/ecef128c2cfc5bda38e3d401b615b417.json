{"remainingRequest":"E:\\前端\\vue_wzz_music\\node_modules\\babel-loader\\lib\\index.js!E:\\前端\\vue_wzz_music\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\前端\\vue_wzz_music\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\前端\\vue_wzz_music\\src\\components\\findMusic\\search\\SearchByVideo.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\前端\\vue_wzz_music\\src\\components\\findMusic\\search\\SearchByVideo.vue","mtime":1598430910513},{"path":"E:\\前端\\vue_wzz_music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\前端\\vue_wzz_music\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\前端\\vue_wzz_music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\前端\\vue_wzz_music\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2giOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaERhdGE6IGRlY29kZVVSSUNvbXBvbmVudCh0aGlzLiRyb3V0ZS5wYXJhbXMuZGF0YSksCiAgICAgIC8v5b2T5YmN55qE5pCc57Si5p2h5Lu2CiAgICAgIHF1ZXJ5SW5mbzogewogICAgICAgIGtleXdvcmRzOiB0aGlzLiRyb3V0ZS5wYXJhbXMuZGF0YSwKICAgICAgICBsaW1pdDogMzAsCiAgICAgICAgb2Zmc2V0OiAwLAogICAgICAgIHR5cGU6IDEwMTQKICAgICAgICAvKiB0eXBlCiAgICAgICAgICAgIOm7mOiupOS4ujEKICAgICAgICAgICAgMTog5Y2V5puyIDEwMDrmrYzmiYsgMTAwMDrmrYzljZUgMTAxNDrop4bpopEKICAgICAgICAqLwoKICAgICAgfSwKICAgICAgLy/mn6Xor6Lnu5PmnpzmgLvmlbAKICAgICAgdmlkZW9Ub3RhbDogMCwKICAgICAgLy/mrYzmm7LmlbDnmoTnu5Pmnpzpm4YKICAgICAgdmlkZW9MaXN0OiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFZpZGVvUmVzdWx0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+afpeivouaQnOe0oueahOinhumikee7k+aenOmbhgogICAgZ2V0VmlkZW9SZXN1bHQ6IGZ1bmN0aW9uIGdldFZpZGVvUmVzdWx0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kaHR0cC5nZXQoJy9zZWFyY2gnLCB7CiAgICAgICAgcGFyYW1zOiB0aGlzLnF1ZXJ5SW5mbwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy52aWRlb0xpc3QgPSByZXMuZGF0YS5yZXN1bHQudmlkZW9zOwogICAgICAgIF90aGlzLnZpZGVvVG90YWwgPSByZXMuZGF0YS5yZXN1bHQudmlkZW9Db3VudDsKICAgICAgfSk7CiAgICB9LAogICAgLy/ot7Povazop4bpopHmkq3mlL7pobUKICAgIHRvVmlkZW9QYWdlOiBmdW5jdGlvbiB0b1ZpZGVvUGFnZShpZCkgewogICAgICBpZiAoaWQubWF0Y2goL1xELykgIT0gbnVsbCkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvdmlkZW9QbGF5LycgKyBpZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy90b1ZpZGVvUGFnZS8nICsgaWQpOwogICAgICB9CiAgICB9LAogICAgLy/liIbpobXmj5Lku7bpobXmlbDmlLnlj5gKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UobmV3UGFnZSkgewogICAgICB0aGlzLnF1ZXJ5SW5mby5vZmZzZXQgPSAobmV3UGFnZSAtIDEpICogdGhpcy5xdWVyeUluZm8ubGltaXQ7CiAgICAgIGlmICh0aGlzLnF1ZXJ5SW5mby5vZmZzZXQgPj0gdGhpcy5zb25nVG90YWwpIHRoaXMucXVlcnlJbmZvLm9mZnNldCA9IHRoaXMuc29uZ1RvdGFsOwogICAgICB0aGlzLmdldFZpZGVvUmVzdWx0KCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["SearchByVideo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,kBAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,IAAA,CADA;AAEA;AACA,MAAA,SAAA,EAAA;AACA,QAAA,QAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA,IADA;AAEA,QAAA,KAAA,EAAA,EAFA;AAGA,QAAA,MAAA,EAAA,CAHA;AAIA,QAAA,IAAA,EAAA;AACA;;;;;AALA,OAHA;AAaA;AACA,MAAA,UAAA,EAAA,CAdA;AAeA;AACA,MAAA,SAAA,EAAA;AAhBA,KAAA;AAkBA,GApBA;AAqBA,EAAA,OArBA,qBAqBA;AACA,SAAA,cAAA;AACA,GAvBA;AAwBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,cAFA,4BAEA;AAAA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,SAAA,EAAA;AAAA,QAAA,MAAA,EAAA,KAAA;AAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,MAAA,CAAA,MAAA;AACA,QAAA,KAAA,CAAA,UAAA,GAAA,GAAA,CAAA,IAAA,CAAA,MAAA,CAAA,UAAA;AACA,OAHA;AAIA,KAPA;AAQA;AACA,IAAA,WATA,uBASA,EATA,EASA;AACA,UAAA,EAAA,CAAA,KAAA,CAAA,IAAA,KAAA,IAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,gBAAA,EAAA;AACA,OAFA,MAEA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,kBAAA,EAAA;AACA;AACA,KAfA;AAgBA;AACA,IAAA,mBAjBA,+BAiBA,OAjBA,EAiBA;AACA,WAAA,SAAA,CAAA,MAAA,GAAA,CAAA,OAAA,GAAA,CAAA,IAAA,KAAA,SAAA,CAAA,KAAA;AACA,UAAA,KAAA,SAAA,CAAA,MAAA,IAAA,KAAA,SAAA,EAAA,KAAA,SAAA,CAAA,MAAA,GAAA,KAAA,SAAA;AACA,WAAA,cAAA;AACA;AArBA;AAxBA,CAAA","sourcesContent":["<template>\r\n    <div style=\"margin-bottom: 75px;\">\r\n        <el-row :gutter=\"10\">\r\n\r\n            <el-col :span=\"4\" v-for=\"(item,index) in videoList\" style=\"margin-top: 20px;position:relative;\"\r\n                    :key=\"index\">\r\n\r\n                <!--播放量-->\r\n                <div style=\"background: rgba(128,128,128,0.2);color: white;\r\n                                    width: 96%;position:absolute;z-index: 10;\">\r\n                    <div style=\"float:right;\">\r\n                        <i class=\"el-icon-headset\" style=\"margin-right: 5px;\"></i>\r\n                        {{item.playTime >= 10000 ? (item.playTime/10000).toFixed(0)+'万' :\r\n                        item.playTime}}\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div>\r\n                    <el-image :src=\"item.coverUrl\" @click=\"toVideoPage(item.vid)\"\r\n                              style=\"box-shadow: 0 0 2px 2px gray;border-radius: 10px;cursor: pointer\">\r\n                    </el-image>\r\n                </div>\r\n\r\n\r\n                <h1 @click=\"toVideoPage(item.vid)\" style=\"cursor:pointer;\">{{item.title}}</h1>\r\n\r\n            </el-col>\r\n        </el-row>\r\n        <!--分页-->\r\n        <el-pagination style=\"display: block;width: 20%;margin: 15px auto\"\r\n                       layout=\"prev, pager, next\" :page-size=\"queryInfo.limit\"\r\n                       :total=\"videoTotal\" @current-change=\"handleCurrentChange\">\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                searchData: decodeURIComponent(this.$route.params.data),\r\n                //当前的搜索条件\r\n                queryInfo: {\r\n                    keywords: this.$route.params.data,\r\n                    limit: 30,\r\n                    offset: 0,\r\n                    type: 1014\r\n                    /* type\r\n                        默认为1\r\n                        1: 单曲 100:歌手 1000:歌单 1014:视频\r\n                    */\r\n                },\r\n                //查询结果总数\r\n                videoTotal: 0,\r\n                //歌曲数的结果集\r\n                videoList: [],\r\n            }\r\n        },\r\n        created() {\r\n            this.getVideoResult()\r\n        },\r\n        methods: {\r\n            //查询搜索的视频结果集\r\n            getVideoResult() {\r\n                this.$http.get('/search', {params: this.queryInfo}).then(res => {\r\n                    this.videoList = res.data.result.videos\r\n                    this.videoTotal = res.data.result.videoCount\r\n                })\r\n            },\r\n            //跳转视频播放页\r\n            toVideoPage(id) {\r\n                if (id.match(/\\D/)!=null) {\r\n                    this.$router.push('/videoPlay/' + id);\r\n                } else {\r\n                    this.$router.push('/toVideoPage/' + id);\r\n                }\r\n            },\r\n            //分页插件页数改变\r\n            handleCurrentChange(newPage) {\r\n                this.queryInfo.offset = (newPage - 1) * this.queryInfo.limit\r\n                if (this.queryInfo.offset >= this.songTotal) this.queryInfo.offset = this.songTotal\r\n                this.getVideoResult();\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    [class*=el-col-] {\r\n        display: inline-block;\r\n        float: none;\r\n    }\r\n\r\n    h1 {\r\n        font-weight: 500;\r\n    }\r\n</style>\r\n"],"sourceRoot":"src/components/findMusic/search"}]}